{"changed":true,"filter":false,"title":"display_recipe.html","tooltip":"/templates/display_recipe.html","value":"{% extends 'base.html' %} {% block content %}\n<!-- header dividers -->\n<section class=\"hide-on-small-only\">\n  <div class=\"row top-margin-page-divider\">\n    <div class=\"col m10 offset-m1\">\n      <div class=\"col center-align m3\">\n        <div class=\"left-align page-divider highlight3-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\"center-align page-divider highlight1-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\" center-align page-divider highlight2-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\"center-align page-divider highlight4-background\"></div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- details and information -->\n<section>\n  {%if recipe.author|lower==session[\"user\"]|lower %}\n  <div class=\"display-recipe-button-container\">\n    <!-- Dropdown Trigger -->\n    <a class='dropdown-trigger btn highlight1-background hide-on-med-and-up' href='#' data-target='recipe-options'><i class=\"material-icons\">add</i></a>\n    <a class='dropdown-trigger btn-floating btn-large highlight1-background hide-on-small-only' href='#' data-target='recipe-options'><i class=\"material-icons\">add</i></a>\n\n    <!-- Dropdown Structure -->\n    <ul id='recipe-options' class='dropdown-content'>\n      <li class=\"highlight2-background\"><a href=\"{{url_for('edit_recipe', recipe_id=recipe._id)}}\">Edit</a></li>\n      <li class=\"highlight4-background\"><a href=\"#delete_modal\" class=\"modal-trigger\">Delete</a></li>\n      <li class=\"highlight1-background\"><span>Close</span></li>\n    </ul>\n  </div>\n  {%endif%}\n  <!--  <div class=\"information-container\">-->\n  <div class=\"recipe-details\">\n    <div class=\"row\">\n      <div class=\"col s8 offset-s2\">\n        {% set name = recipe.name.split(' ') %}\n        <h4 class=\"center-align\">\n          {% for word in name %} {{ word[0]|upper }}{{ word[1:]|lower}} {% endfor %}\n        </h4>\n      </div>\n      <div class=\"col s2\">\n        {% if recipe.favourite %}\n        <i class=\"material-icons gold-star\">star</i> {% endif %}\n      </div>\n    </div>\n\n    {% if recipe.picture %}\n    <div class=\"row\">\n      <div class=\"col s6 offset-s3\">\n        <p class=\"center-align\">\n          <img class=\"recipe-image\" src=\"{{ recipe.picture }}\"></img>\n        </p>\n      </div>\n    </div>\n    {% endif %} \n    {% if recipe.country %}\n    <div class=\"row\">\n      <div class=\"col s10 offset-s1\">\n        {% set country_name=recipe.country.split(' ') %}\n        <p class=\"center-align\">From {% for word in country_name %} {{word[0]|upper}}{{word[1:]|lower}} {%endfor%}\n        </p>\n      </div>\n    </div>\n    {% endif %} \n    {% if recipe.author %}\n    <div class=\"row\">\n      <div class=\"col s10 offset-s1\">\n        {% set author_name=recipe.author.split(' ') %}\n        <p class=\"center-align\">by {% for word in author_name %} {{word[0]|upper}}{{word[1:]|lower}} {%endfor%}\n        </p>\n      </div>\n    </div>\n    {% endif %}\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col s12\">\n          {% if recipe.meal %}\n          <div class=\"row\">\n            <div class=\"col s4 m3 l2\">\n              <p class=\"recipe-subject\">Meal</p>\n            </div>\n            <div class=\"col s8 m2 l2\">\n              <p>{{ recipe.meal[0]|upper }}{{recipe.meal[1:]|lower}}</p>\n            </div>\n            {% endif %} {% if recipe.difficulty %}\n            <div class=\"col s4 m3 offset-m1 l2\">\n              <p class=\"recipe-subject\">Difficulty</p>\n            </div>\n            <div class=\"col s8 m2 l2\">\n              <p>{{recipe.difficulty[0]|upper}}{{recipe.difficulty[1:]|lower}}</p>\n            </div>\n            {% endif %} {% if recipe.calories %}\n            <div class=\"col s4 m3 l2\">\n              <p class=\"recipe-subject\">Calories</p>\n            </div>\n            <div class=\"col s8 m2 l2\">\n              <p>{{ recipe.calories }} kCal</p>\n            </div>\n            {% endif %}\n          </div>\n          {% if recipe.hours>0 or recipe.minutes>0%}\n          <div class=\"row\">\n            <div class=\"col s4 m3 l2\">\n              <p class=\"recipe-subject\">Cooking time</p>\n            </div>\n            <div class=\"col s8 m3 l2\">\n              <p>{% if recipe.hours>0 %} {{ recipe.hours }} hour {% endif %} {% if recipe.minutes>0 %} {{ recipe.minutes }} minutes{% endif %}</p>\n            </div>          \n          </div>\n            {% endif %}          \n          {% if recipe.allergens %}\n          <div class=\" recipe-contents-list\">\n            <div class=\"row\">\n              <div class=\"col s4 m3 l2\">\n                <p class=\"recipe-subject\">Allergens</p>\n              </div>\n              {% for allergen in recipe.allergens %} {% if loop.first %}\n              <div class=\"col s8 m9 l10\">\n                <p>{{ allergen[0]|upper }}{{ allergen[1:]|lower }}</p>\n              </div>\n  \n              {% else %}\n              <div class=\"row\">\n                <div class=\"col s8 offset-s4 m9 offset-m3 l10 offset-l2\">\n                  <p>{{ allergen[0]|upper }}{{ allergen[1:]|lower }}</p>\n                </div>\n              </div>\n              {% endif %} {% endfor %}\n            </div>\n          </div>\n          {% endif %}\n  \n          <!-- check to see if ingredients is populated in the dictionary, if so lay out ingredients.\n        NB ingredients is highly unlikely to be unpopulated -->\n  \n          {% if recipe.ingredients %}\n          <div class=\"recipe-contents-list\">\n            <div class=\"row\">\n              <div class=\"col s4 m3 l2\">\n                <p class=\"recipe-subject\">Ingredients</p>\n              </div>\n              {% for ingredient in recipe.ingredients %} {% if loop.first %}\n              <div class=\"col s8 m9 l10\">\n                <p>\n                  {{ingredient.amount}}{% if ingredient.unit %} {{ingredient.unit}} of {% endif %} {{ ingredient.type[0]|upper}}{{ingredient.type[1:] }}\n                </p>\n              </div>\n              {% else %}\n              <div class=\"row\">\n                <div class=\"col s8 offset-s4 m9 offset-m3 l10 offset-l2\">\n                  <p>\n                    {{ingredient.amount}}{% if ingredient.unit %}{{ingredient.unit}} of {% endif %} {{ ingredient.type[0]|upper}}{{ingredient.type[1:] }}\n                  </p>\n                </div>\n              </div>\n              {% endif %} {% endfor %}\n            </div>\n          </div>\n          {% endif %} {% if recipe.method %}\n          <div class=\"row\">\n            <div class=\"col s4 m3 l2\">\n              <p class=\"recipe-subject\">Method</p>\n            </div>\n            <div class=\"col s8 m9 l10\">\n              <p>{{ recipe.method }}</p>\n            </div>\n          </div>\n          {% endif %}\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    {% if added!=\"true\" %}\n    <div class=\"col s4 offset-s1 m2 offset-m3 \">\n      {% if session[\"category_form\"] is defined %}\n      <a href=\"{{url_for('display_categories')}}\" class=\"waves-effect waves-light btn btn-block hide-on-large-only highlight4-background\">Back</a>\n      <a href=\"{{url_for('display_categories')}}\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight4-background\">Back</a> {%else%}\n      <a href=\"{{ url_for('recipe_list',filter='existing') }}\" class=\"waves-effect waves-light btn btn-block hide-on-large-only highlight4-background\">Back</a>\n      <a href=\"{{ url_for('recipe_list',filter='existing') }}\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight4-background\">Back</a> {%endif%}\n    </div>\n    {% else %}\n    <div class=\"col s4 offset-s1 m2 offset-m3 \">\n      <a href=\"{{url_for('edit_recipe', recipe_id=recipe._id)}}\" class=\"waves-effect waves-light btn btn-block hide-on-large-only highlight4-background\">Back</a>\n      <a href=\"{{url_for('edit_recipe', recipe_id=recipe._id)}}\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight4-background\">Back</a>\n    </div>\n    {% endif %}\n    <div class=\"col s4 offset-s2 m2 offset-m2 \">\n      <a href=\"{{url_for('index')}}\" class=\"waves-effect waves-light btn btn-block hide-on-large-only highlight2-background\">Home</a>\n      <a href=\"{{url_for('index')}}\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight2-background\">Home</a>\n    </div>\n</section>\n\n<!--Deletion modal -->\n<section>\n  <div id=\"delete_modal\" class=\"modal\">\n    <div class=\"modal-content\">\n      <h4>Confirm deletion</h4>\n      <p>Are you sure you want to delete this recipe?</p>\n      <form action=\"{{url_for('delete_recipe') }}\" method=\"POST\">\n        <input type=\"hidden\" name=\"recipe_id\" value=\"{{recipe._id}}\"></input>\n        <div class=\"row\">\n          <div class=\"col s5 offset-s1 m3 offset-m2 \">\n            <button type=\"reset\" id=\"modal_reset\" class=\"modal-close waves-effect waves-light btn btn-block hide-on-large-only highlight1-background\">Cancel</a>\n            <button type=\"reset\" id=\"modal_reset\" class=\"modal-close waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight1-background\">Cancel</button>\n          </div>\n          <div class=\"col s5 offset-s1 m3 offset-m2\">\n            <button type=\"submit\" class=\"waves-effect waves-light btn btn-block hide-on-large-only red call-preloader\">Delete</button>\n            <button type=\"submit\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down red call-preloader\">Delete</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</section>\n\n{% endblock %}\n","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":196,"column":10},"end":{"row":197,"column":20},"action":"remove","lines":["","    <!--  </div> -->"],"id":178}]]},"ace":{"folds":[{"start":{"row":39,"column":21},"end":{"row":50,"column":4},"placeholder":"..."},{"start":{"row":53,"column":21},"end":{"row":59,"column":4},"placeholder":"..."},{"start":{"row":62,"column":21},"end":{"row":68,"column":4},"placeholder":"..."},{"start":{"row":71,"column":21},"end":{"row":77,"column":4},"placeholder":"..."}],"scrolltop":2505,"scrollleft":0,"selection":{"start":{"row":199,"column":0},"end":{"row":220,"column":10},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":{"row":194,"state":"start","mode":"ace/mode/html"}},"timestamp":1566238248418}