{"changed":true,"filter":false,"title":"add_recipe.html","tooltip":"/templates/add_recipe.html","value":"{% extends 'base.html' %} {% block content %}\n\n<!-- call to action -->\n<div class=\"hide-on-small-only top-margin-page-divider\">\n  <div class=\"row\">\n    <div class=\"col m10 offset-m1\">\n      <div class=\"col center-align m3\">\n        <div class=\"left-align page-divider highlight3-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\"center-align page-divider highlight1-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\" center-align page-divider highlight2-background\"></div>\n      </div>\n      <div class=\"col center-align m3\">\n        <div class=\"center-align page-divider highlight4-background\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"row hide-on-small-only information-container\">\n  <div class=\"col s12\">\n    <h5 class=\"center-align\">Create your own recipe</h5>\n  </div>\n  <div class=\"row\">\n    <div class=\"col s10 offset-s1\">\n      <p class=\"left-align\">Fill out the form below to add your own creation to the Cookbook. Make sure you name it, add your ingredients and the instructions.</h5>\n    </div>\n  </div>\n</div>\n\n<!-- Add recipe form -->\n<section class=\"recipe-form\">\n  <div class=\"row\">\n    <!--set the edit variable to false to tell flask this is a new recipe being added so no need to request the recipe_id-->\n    <form id=\"recipe-form\" action=\"{{url_for('insertrecipe', edit='False') }}\" method=\"POST\" class=\"col s12\">\n      <div class=\"row\">\n        <div class=\"col s10 offset-s1\">\n          <div class=\"row\">\n            <div class=\"col s10 input-field\">\n              <label for=\"name\">Name</label>\n              <input id=\"name\" name=\"name\" type=\"text\" label=\"Name\" required></input>\n            </div>\n            <!--button for user to select to mark recipe as one of their favourites-->\n            <div class=\"col s1 offset-s1 valign-wrapper\">\n              <p id=\"favourite\"><i id=\"star\" class=\" material-icons\">star_border</i></p>\n              <input type=\"hidden\" id=\"favourite_input\" name=\"favourite\" value=false></input>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <!--user can enter a new country or pick from autocomplete list, retrieved from country collection-->\n            <div class=\"col s12 m6 input-field\">\n              <label for=\"country\">Country of origin</label>\n              <input id=\"country\" class=\"autocomplete text-only\" name=\"country\" type=\"text\"></input>\n            </div>\n\n            <div class=\"col s12 m6 input-field\">\n              <label for=\"picture\">Picture</label>\n              <input id=\"picture\" name=\"picture\" type=\"text\" placeholder=\"type in full URL of image\"></input>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <!--drop down selection list of allergens-->\n            <div class=\"col s12 m4 l3 input-field\">\n              <select name=\"allergens\" id=\"select_allergens\" multiple>\n                <option value=\"dairy\">DAIRY</option>\n                <option value=\"fish\">FISH</option>\n                <option value=\"gluten\">GLUTEN</option>\n                <option value=\"nuts\">NUTS</option>\n                <option value=\"shellfish\">SHELLFISH</option>\n                <option value=\"eggs\">EGGS</option>\n                <option value=\"meat\">MEAT</option>\n              </select>\n              <label for=\"allergens\">Contains:</label>\n            </div>\n            \n            \n            <div class=\"col s6 m3 input-field\">\n              <!--drop down selection list of meals-->\n              <select name=\"meal\">\n                <option value=\"\" disabled selected>Select</option>\n                <option value=\"breakfast\">BREAKFAST</option>\n                <option value=\"lunch\">LUNCH</option>\n                <option value=\"dinner\">DINNER</option>\n                <option value=\"dessert\">DESSERT</option>     \n                <option value=\"beverage\">BEVERAGE</option>                    \n                <option value=\"snack\">SNACK</option>\n                </select>\n              <label for=\"meal\">Meal</label>\n            </div>\n\n            <div class=\"col s6 m3 input-field\">\n              <!--drop down selection list of difficulty ratings-->\n              <select name=\"difficulty\">\n                <option value=\"\" disabled selected>Select</option>\n                <option value=\"easy\">EASY</option>\n                <option value=\"medium\">MEDIUM</option>\n                <option value=\"hard\">HARD</option>\n                </select>\n              <label for=\"difficulty\">Difficulty</label>\n            </div>\n\n            <div class=\"col s3 l1 input-field\">\n              <!--input fields for time and calories - number only input-->\n              <input name=\"hours\" type=\"number\" min=\"0\" placeholder=\"hours\"></input>\n              <label for=\"hours\">Cooking Time</label>\n            </div>\n            <div class=\"col m2 s3 l1 input-field\">\n              <input name=\"minutes\" type=\"number\" min=\"0\" max=\"59\" placeholder=\"minutes\"></input>\n            </div>\n            <div class=\"col s3 m2 l1 input-field\">\n              <input name=\"calories\" type=\"number\" placeholder=\"calories\"></input>\n              <label for=\"calories\">Calories</label>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <!--ingredients input form-->\n            <div class=\"col s12\">\n              <p>Ingredients</p>\n            </div>\n          </div>\n          <!--empty div to be populated by ingredients list as user adds ingredients-->\n          <div id=\"ingredients\">\n          </div>          \n          <div class=\"row\">\n            <div class=\"col s12 m5 l4 input-field\">\n              <input class=\"autocomplete text-only\" id=\"ingredient\" type=\"text\">\n              <label for=\"ingredient\">Ingredient</label>\n            </div>\n            <div class=\"col s3 m2 l2 input-field\">\n              <input id=\"amount\" type=\"number\" min=\"0\"></input>\n              <label for=\"amount\">Quantity</label>\n            </div>\n            <!--dropdown list of units of measurement-->\n            <div id=\"unit\" class=\"col s3 m2 l1 input-field\" >\n              <select id=\"select-unit\">\n                <option value=\"\" selected=\"selected\"> </option>\n                <option value=\"g\">g</option>\n                <option value=\"kg\">kg</option>\n                <option value=\"oz\">oz</option>\n                <option value=\"lb\">lb</option>\n                <option value=\"ml\">ml</option>\n                <option value=\"ltr\">ltr</option>\n                <option value=\"tsp\">tsp</option>\n                <option value=\"tbsp\">tbsp</option>\n                <option value=\"unit\">unit</option>                \n              </select>\n              <label for=\"select-unit\">Unit</label>\n            </div>\n            <!--add ingredient button-->\n            <div class=\"col s1 add-ingredient-button\">\n              <a id=\"add_ingredient\" class=\"btn-floating btn-small waves-effect waves-light highlight3-background\"><i class=\"material-icons\">add</i></a>\n            </div>              \n          </div>\n        \n          <div class=\"row\">\n            <!--text area to set out method for making recipe-->\n            <div class=\"col s12 input-field\">\n              <label for=\"method\">Method</label>\n              <textarea id=\"method\" name=\"method\" class=\"materialize-textarea\" label=\"method\" required></textarea>\n            </div>\n          </div>\n\n        </div>\n      </div>\n      <div class=\"row\">\n        <!--return and submit options-->\n        <div class=\"col s4 offset-s1 m2 offset-m3 \">\n          <a href=\"{{url_for('index')}}\" class=\"waves-effect waves-light btn btn-block hide-on-large-only highlight2-background\">Home</a>\n          <a href=\"{{url_for('index')}}\" class=\"waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight2-background\">Home</a>\n        </div>\n        <div class=\"col s4 offset-s2 m2 offset-m2 \">\n          <button type=\"button\" class=\"submit-recipe waves-effect waves-light btn btn-block hide-on-large-only highlight4-background\">Add</button>\n          <button type=\"button\" class=\"submit-recipe waves-effect waves-light btn-large btn-block hide-on-small-only hide-on-med-and-down highlight4-background\">Add</button>\n        </div>\n      </div>\n      <!--hidden author field - takes value of user logged in - not displayed -->\n      <input id=\"author\" type=\"hidden\" name=\"author\" type=\"text\" value=\"{{session['user']}}\"></input>\n    </form>\n  </div>\n</section>\n\n<!--Error modal - detail completed from jquery script once error is estabished-->\n<section>\n  <div id=\"error-modal\" class=\"modal\">\n    <div class=\"modal-content\">\n      <h4>Error</h4>\n      <p>Please input </p>\n    </div>\n    <div class=\"modal-footer\">\n      <a href=\"#!\" class=\"modal-close waves-effect waves-light btn-flat background-highlight3\">OK</a>\n    </div>\n  </div>\n</section>\n\n\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js\"></script>\n<script type=\"text/javascript\" src=\"{{url_for('static', filename='js/jquery.alphanum.js')}}\"></script>\n\n<script type=\"text/javascript\">\n  $(document).ready(function() {\n    //initialisation for autocomplete fields taken from ingredients, and country collections\n    var ingredient_list = {{ingredients_list|tojson}};\n    var country_list = {{country_list|tojson}};\n\n    $('#ingredient').autocomplete({\n      data: ingredient_list,\n    });\n    $('#country').autocomplete({\n      data: country_list,\n    });\n  })\n  //initialisation for text-only input box (ingredient name)\n  $('.text-only').alpha();  \n</script>\n\n{% endblock %}\n","undoManager":{"mark":13,"position":17,"stack":[[{"start":{"row":133,"column":42},"end":{"row":133,"column":43},"action":"remove","lines":["1"],"id":258}],[{"start":{"row":153,"column":32},"end":{"row":154,"column":0},"action":"remove","lines":["",""],"id":259}],[{"start":{"row":86,"column":54},"end":{"row":87,"column":0},"action":"insert","lines":["",""],"id":260},{"start":{"row":87,"column":0},"end":{"row":87,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":87,"column":0},"end":{"row":87,"column":52},"action":"insert","lines":["                <option value=\"snack\">SNACK</option>"],"id":261}],[{"start":{"row":87,"column":31},"end":{"row":87,"column":36},"action":"remove","lines":["snack"],"id":262},{"start":{"row":87,"column":31},"end":{"row":87,"column":32},"action":"insert","lines":["d"]},{"start":{"row":87,"column":32},"end":{"row":87,"column":33},"action":"insert","lines":["e"]},{"start":{"row":87,"column":33},"end":{"row":87,"column":34},"action":"insert","lines":["s"]},{"start":{"row":87,"column":34},"end":{"row":87,"column":35},"action":"insert","lines":["s"]},{"start":{"row":87,"column":35},"end":{"row":87,"column":36},"action":"insert","lines":["e"]},{"start":{"row":87,"column":36},"end":{"row":87,"column":37},"action":"insert","lines":["r"]},{"start":{"row":87,"column":37},"end":{"row":87,"column":38},"action":"insert","lines":["t"]}],[{"start":{"row":87,"column":40},"end":{"row":87,"column":45},"action":"remove","lines":["SNACK"],"id":263},{"start":{"row":87,"column":40},"end":{"row":87,"column":41},"action":"insert","lines":["D"]},{"start":{"row":87,"column":41},"end":{"row":87,"column":42},"action":"insert","lines":["e"]}],[{"start":{"row":87,"column":41},"end":{"row":87,"column":42},"action":"remove","lines":["e"],"id":264}],[{"start":{"row":87,"column":41},"end":{"row":87,"column":42},"action":"insert","lines":["E"],"id":265},{"start":{"row":87,"column":42},"end":{"row":87,"column":43},"action":"insert","lines":["S"]},{"start":{"row":87,"column":43},"end":{"row":87,"column":44},"action":"insert","lines":["S"]},{"start":{"row":87,"column":44},"end":{"row":87,"column":45},"action":"insert","lines":["R"]}],[{"start":{"row":87,"column":44},"end":{"row":87,"column":45},"action":"remove","lines":["R"],"id":266}],[{"start":{"row":87,"column":44},"end":{"row":87,"column":45},"action":"insert","lines":["E"],"id":267},{"start":{"row":87,"column":45},"end":{"row":87,"column":46},"action":"insert","lines":["R"]},{"start":{"row":87,"column":46},"end":{"row":87,"column":47},"action":"insert","lines":["T"]}],[{"start":{"row":87,"column":61},"end":{"row":87,"column":72},"action":"remove","lines":["           "],"id":268},{"start":{"row":87,"column":61},"end":{"row":88,"column":0},"action":"insert","lines":["",""]},{"start":{"row":88,"column":0},"end":{"row":88,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":88,"column":0},"end":{"row":89,"column":0},"action":"insert","lines":["                <option value=\"beverage\" {% if recipe.meal|upper==\"BEVERAGE\" %} selected=\"selected\" {% endif %}>BEVERAGE</option>                    ",""],"id":269}],[{"start":{"row":88,"column":149},"end":{"row":89,"column":16},"action":"remove","lines":["","                "],"id":270}],[{"start":{"row":88,"column":41},"end":{"row":88,"column":111},"action":"remove","lines":["{% if recipe.meal|upper==\"BEVERAGE\" %} selected=\"selected\" {% endif %}"],"id":271},{"start":{"row":88,"column":40},"end":{"row":88,"column":41},"action":"remove","lines":[" "]}],[{"start":{"row":148,"column":50},"end":{"row":149,"column":0},"action":"insert","lines":["",""],"id":272},{"start":{"row":149,"column":0},"end":{"row":149,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":149,"column":0},"end":{"row":149,"column":50},"action":"insert","lines":["                <option value=\"tbsp\">tbsp</option>"],"id":273}],[{"start":{"row":149,"column":31},"end":{"row":149,"column":35},"action":"remove","lines":["tbsp"],"id":274},{"start":{"row":149,"column":31},"end":{"row":149,"column":32},"action":"insert","lines":["u"]},{"start":{"row":149,"column":32},"end":{"row":149,"column":33},"action":"insert","lines":["n"]},{"start":{"row":149,"column":33},"end":{"row":149,"column":34},"action":"insert","lines":["i"]},{"start":{"row":149,"column":34},"end":{"row":149,"column":35},"action":"insert","lines":["t"]}],[{"start":{"row":149,"column":37},"end":{"row":149,"column":41},"action":"remove","lines":["tbsp"],"id":275},{"start":{"row":149,"column":37},"end":{"row":149,"column":38},"action":"insert","lines":["u"]},{"start":{"row":149,"column":38},"end":{"row":149,"column":39},"action":"insert","lines":["n"]},{"start":{"row":149,"column":39},"end":{"row":149,"column":40},"action":"insert","lines":["i"]},{"start":{"row":149,"column":40},"end":{"row":149,"column":41},"action":"insert","lines":["t"]}]]},"ace":{"folds":[{"start":{"row":3,"column":56},"end":{"row":20,"column":0},"placeholder":"..."},{"start":{"row":21,"column":58},"end":{"row":30,"column":0},"placeholder":"..."}],"scrolltop":1310,"scrollleft":0,"selection":{"start":{"row":149,"column":0},"end":{"row":149,"column":55},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":{"row":57,"state":"start","mode":"ace/mode/html"}},"timestamp":1566250634954}