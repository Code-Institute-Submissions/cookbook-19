{% extends 'base.html' %} {% block content %}

<!-- details and information -->
<section class="category-display">
  <div class="row">
    <div class="col s12 splash-container search-splash">
      <div class="row valign-wrapper">
        <div class="col s12">
          {%if category=="allergens" %}
          <h5 class="center-align flow-text">Browse by dietary requirements</h5>
          <p class="center-align flow-text">Recipes that do not contain:</p>
          {%else%}
          <h5 class="center-align flow-text">Browse by {{category[0]|upper}}{{category[1:]|lower}}</h5>
          {%endif%}
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col s12 search-container" style="padding:0">
      <ul class="collapsible">
        {%for item in items %}
        <li {%if loop.index==1 %}class='active' {%endif%}>
          <div class="collapsible-header" style="background-color:#8C5D42; color:white">
            <div class="row" style="padding:0; margin:0; flex:auto">
              <div class="col s1">
                <i class="material-icons expand">expand_more</i>
              </div>
              <div class="col s6">
                <strong>{{item[0]|upper}}{{item[1:]|lower}}</strong>
              </div>
              <div class="col s5" class="right-align">
                <p style="margin:0; ">Recipes found: {{recipes[item]|length}}</p>
              </div>
            </div>
          </div>
          <div class="collapsible-body" style="padding:0 !important; border-bottom:none">
            <ul class="collapsible" style="border-top:0 !important">
              {%if recipes[item]|length==0 %}
              <li>
                <div class='collapsible-header' style="padding-top:0; padding-bottom:0; width:100%">
                  <div class="valign-wrapper" style="margin-bottom:0">
                    <p>No recipes found</p>
                  </div>
                </div>
              </li>
              {%endif%} {%for recipe in recipes[item]%}
              <li>
                <div class="collapsible-header" style="padding-top:0; padding-bottom:0; width:100%; display:block">
                  <i class="material-icons expand-nested right" style="margin-top:20px">expand_more</i>
                  <div class="valign-wrapper" style="margin-bottom:0">
                    <div class="valign-wrapper" style="padding:5px 0 5px 0">
                      {% if recipe.picture %}
                      <img src="{{recipe.picture}}" class="circle responsive-image recipe-list-image"> {% else %}
                      <i class="fa fa-cutlery fa-2x meal-icon" aria-hidden="true"></i> {% endif %}
                    </div>
                    <div class="">
                      {{recipe.name}}
                    </div>
                  </div>
                </div>
                <div class="collapsible-body">
                  <div style="padding-left:30px">
                    {%if recipe.cook_time%}
                    <p><a style="padding-right:30px" class="right" href="{{url_for('display_recipe', recipe_id=recipe._id)}}"><i style="" class="material-icons">remove_red_eye</i></a> Cooking time: {%if recipe.hours %}{{recipe.hours}} hours{%endif%} {%if
                      recipe.minutes %}{{recipe.minutes}} minutes{%endif%}</p>
                    {%endif%} {%if recipe.calories%}

                    <p>Calories: {{recipe.calories}} kCal</p>

                    {%endif%} {%if recipe.difficulty%}

                    <p>Difficulty: {{recipe.difficulty[0]|upper}}{{recipe.difficulty[1:]|lower}}</p>
                    {%endif%}
                  </div>
                </div>
              </li>
              {%endfor%}
            </ul>
          </div>
        </li>
        {%endfor%}
      </ul>
    </div>
  </div>
  <div class="row" style="margin-top:20px">
    <div class="col s4 offset-s4 m2 offset-m5 ">
      <a href="{{url_for('search')}}" class="waves-effect waves-light btn btn-block hide-on-large highlight2-background">Back</a>
      <a href="{{url_for('search')}}" class="waves-effect waves-light btn-large btn-block hide-on-med-and-down highlight2-background">Back</a>
    </div>
  </div>

  <div class="hide-on-small-only top-margin-page-divider">
    <div class="row">
      <div class="col m10 offset-m1">
        <div class="col center-align m3">
          <div class="left-align page-divider highlight3-background"></div>
        </div>
        <div class="col center-align m3">
          <div class="center-align page-divider highlight1-background"></div>
        </div>
        <div class="col center-align m3">
          <div class=" center-align page-divider highlight2-background"></div>
        </div>
        <div class="col center-align m3">
          <div class="center-align page-divider highlight4-background"></div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
